---
title: "Improving Data Visualizations"
author: "Yang Meng"
output: 
  xaringan::moon_reader:
    css: ["slide-style.css"]
    lib_dir: libs
    seal: false
    nature:
      ratio: 16:9
      highlightStyle: "pygments"
      highlightLines: true
      highlightLanguage: "r"

---

class: title-slide

```{r echo = FALSE, message=FALSE}
library(openintro)
library(tidyverse)
babies <- babies %>% 
  mutate(smoke = as.logical(smoke),
         parity = as.logical(parity))

xaringanExtra::use_panelset()
theme_set(theme_gray(base_size = 18))
```

<br>
<br>
.right-panel[ 
<br>

# `r rmarkdown::metadata$title`

## `r rmarkdown::metadata$author`
Adapted from slides by Mine Dogucu
]

---

class: middle

## Data 

```{r}
library(tidyverse)
df <- read.csv("../data/alzheimer_data.csv")
df <- df %>% 
  rename(gender = female) %>%
  mutate(gender = ifelse(gender, "female", "male"))
df$diagnosis <- factor(df$diagnosis)
```

---

 

.panelset[
.panel[

.panel-name[Plot]

```{r echo = FALSE, fig.align='center', warning = FALSE, fig.height=5}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) 
```

]

.panel[

.panel-name[English]
- Using the data,   
- Map `height` to x-axis, `weight` to y-axis, `gender` to shape and color.
- Add a layer of points and set the size of the points to 4.
]

.panel[
.panel-name[R]
```{r eval = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) 
```

]

]


---

## Labs


.panelset[
.panel[

.panel-name[Plot]

```{r echo = FALSE, fig.align='center', warning = FALSE, fig.height=5}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inches)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") #<<
```

]

.panel[

.panel-name[English]
- Using the data,   
- Map `height` to x-axis, `weight` to y-axis, `gender` to shape.
- Add a layer of points and set the size of the points to 4.
- .highlight-text[Add labels to x-axis, y-axis, and the title of the plot.]



.panel[
.panel-name[R]
```{r eval = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inches)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") #<<
```

]

]



]

---

.left-panel[
```{r eval = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw() #<<
  
```

]

.right-panel[
```{r echo = FALSE, fig.height=5, warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw()
```

]

---

class: middle

## Themes

.panelset[


.panel[

.panel-name[`theme_gray()`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_gray()
```

]

.panel[

.panel-name[`theme_bw()`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw()
```

]

.panel[

.panel-name[`theme_classic()`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_classic()
```

]

.panel[

.panel-name[`theme_dark()`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_dark()
```

]

.panel[
.panel-name[`theme_minimal()`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_minimal()
```

]


.panel[
.panel-name[`theme_void()`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_void()
```

]
]

---

```{r eval = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw() +
  theme(text = element_text(size=20)) #<<
  
```


---

.panelset[

.panel[
.panel-name[`size=10`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw() +
  theme(text = element_text(size=10)) #<<
```

]

.panel[
.panel-name[`size=15`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw() +
  theme(text = element_text(size=15)) #<<
```

]


.panel[
.panel-name[`size=20`]

```{r echo = FALSE, fig.height=4, fig.align='center', warning = FALSE}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  labs(x = "Height (inch)", #<<
       y = "Weight (lbs)", #<<
       title = "Height and Weight by Gender") + 
  theme_bw() +
  theme(text = element_text(size=20)) #<<
```

]

]

---

class: middle

```{r}
?theme
```

There are more aspects of a theme that we can control. 

---

class: middle 
 

.left-panel[

```{r eval = FALSE, fig.align='center', warning = FALSE, fig.height=5}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  facet_grid(. ~ diagnosis) #<<
```

]

.right-panel[
```{r echo = FALSE, fig.align='center', warning = FALSE, fig.height=5}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  facet_grid(. ~ diagnosis) #<<
```
]

---

class: middle 
 

.left-panel[

```{r eval = FALSE, fig.align='center', warning = FALSE, fig.height=5}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  facet_grid(diagnosis ~ .) #<<
```

]

.right-panel[
```{r echo = FALSE, fig.align='center', warning = FALSE, fig.height=5}
ggplot(df,
       aes(x = height,
           y = weight,
           shape = gender,
           color = gender)) +
  geom_point(size = 4) +
  facet_grid(diagnosis ~ .) #<<
```
]

---

class: middle

You can do much more in ggplot. 

- Use images 
- Make maps
- Pick colors that you want

---

class: middle

Check out [the ggplot flipbook](https://evamaerey.github.io/ggplot_flipbook/ggplot_flipbook_xaringan.html#1) for some inspiration. 




---

class: middle

- [BBC](https://bbc.github.io/rcookbook/)   
- [fivethirtyeight](https://blog.revolutionanalytics.com/2016/07/data-journalism-with-r-at-538.html?utm_content=bufferc03e0&utm_medium=social&utm_source=twitter.com&utm_campaign=buffer)  
- [NY Times](https://livefreeordichotomize.com/2021/04/07/nytimes-map-how-to/)

